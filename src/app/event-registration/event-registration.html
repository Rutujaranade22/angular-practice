<p>event-registration works!</p>

<div class="container border border-3 mt-3 p-3">
  <h3 class="text-center text-danger">Event Registration Form</h3>
  <form [formGroup]="eventForm" (ngSubmit)="onSubmit()" class="row g-3">

    <!-- Name Section -->
    <div formGroupName="name" class="col-md-12">
      <label>Prefix:
        <select formControlName="prefix" class="form-select w-auto d-inline mx-2">
          <option>Mr.</option>
          <option>Ms.</option>
        </select><br><br>
      </label>
      <input type="text" formControlName="firstName" placeholder="First Name" class="form-control my-2">
      <div class="text-danger" *ngIf="eventForm.get('name.firstName')?.touched && eventForm.get('name.firstName')?.errors?.['required']">
        First name is required
      </div>
      <div class="text-danger" *ngIf="eventForm.get('name.firstName')?.touched && eventForm.get('name.firstName')?.errors?.['minlength']">
        Minimum 2 characters
      </div>

      <input type="text" formControlName="lastName" placeholder="Last Name" class="form-control">
    </div>
<br><br>
    <!-- Email & Phone -->
    <div class="col-md-6">
      <input type="email" formControlName="email" placeholder="Email" class="form-control">
    </div>
    <div class="col-md-6">
      <input type="text" formControlName="phone" placeholder="Phone Number" class="form-control">
    </div>

    <!-- Guest Toggle -->
    <div class="col-md-12">
      <label>Will you have a guest with you?</label>
      <div>
        <label><input type="radio" formControlName="hasGuest" [value]="true"> Yes</label>
        <label><input type="radio" formControlName="hasGuest" [value]="false"> No</label>
      </div>
    </div>

    <!-- Guest Info -->
    <div formGroupName="guest" class="col-md-12" *ngIf="eventForm.get('hasGuest')?.value">
      <h5>Guest Information</h5>
      <select formControlName="prefix" class="form-select w-auto mb-2">
        <option>Mr.</option>
        <option>Ms.</option>
      </select>
      <input type="text" formControlName="firstName" placeholder="Guest First Name" class="form-control my-1">
      <input type="text" formControlName="lastName" placeholder="Guest Last Name" class="form-control my-1">
      <input type="email" formControlName="email" placeholder="Guest Email" class="form-control my-1">
      <input type="text" formControlName="phone" placeholder="Guest Phone" class="form-control my-1">
    </div>

    <!-- Updates -->
    <div class="col-md-12">
      <label>Would you like to be updated?</label>
      <div>
        <label><input type="radio" formControlName="updates" [value]="true"> Yes</label>
        <label><input type="radio" formControlName="updates" [value]="false"> No</label>
      </div>
    </div>

    <!-- Buttons -->
    <div class="col-12">
      <button type="submit" class="btn btn-primary" [disabled]="eventForm.invalid">Submit</button>
    </div>
  </form>
</div>

<!-- JSON Output -->
<div class="container mt-4">
  <pre>{{ formValue | json }}</pre>
</div>
